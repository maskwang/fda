编码解码的client部分, 精简压缩了一下, 基本上算法还是原本的CryptoJS库版本的实现(http://code.google.com/p/crypto-js/)

jsonformatter跟服务器端是完全对称的. 服务器端使用stringify将encrypted的字符串封装为一个json对象, 之后在client端是用parse来解码;
或者反过来用都是可以i的.

使用方法:首先需要知道加密用的rpass
用jquery来请求数据的话大概是这样:

<script type="text/javascript" src="http://.../aes.js"></script>
<script type="text/javascript" src="http://.../jsonformatter.js"></script>

var rpass; // retrieve passphrase string someplace

$.get("/path-to-service", function(data){

    // retrieve encrypted json string
    var encrypted_json_str = data;

    // decrypt data with encrypted json string, passphrase string and custom JsonFormatter
    var decrypted = JsCrypt.AES.decrypt(encrypted_json_str, rpass, { format: JsonFormatter });

    // convert to Utf8 format
    var decrypted_str = JsCrypt.enc.Utf8.stringify(decrypted);
});