{"ts":1360050126677,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1360050386450,"patch":[[{"diffs":[[1,"/**\n * \n */\n \nvar route = function(cfgs, parameters, at) {\n    for(var cfgKey in cfgs) {\n        var cfg = cfgs[cfgKey];\n        var value = at(cfg.name);\n        if(!value)\n            continue;\n            \n        if (cfg.regex) {\n            var matching = cfg.regex.exec(value);\n            if (!matching || !matching[1]) {\n                continue;\n            }\n            value = matching[1];\n        }\n    }\n};"]],"start1":0,"start2":0,"length1":0,"length2":420}]],"length":420,"saved":false}
{"ts":1360050434053,"patch":[[{"diffs":[[0,";\n        }\n"],[1,"        \n        var rets = parameters ? parameters.slice(0) : [];\n"],[0,"    }\n};"]],"start1":400,"start2":400,"length1":20,"length2":87}]],"length":487,"saved":false}
{"ts":1360050524935,"patch":[[{"diffs":[[0,") : [];\n"],[1,"        var mappingto = cfg.hashEntries[value] || cfg.hashEntries['*'];\n"],[0,"    }\n};"]],"start1":471,"start2":471,"length1":16,"length2":88}]],"length":559,"saved":false}
{"ts":1360050763308,"patch":[[{"diffs":[[0,"s['*'];\n"],[1,"        \n"],[0,"    }\n};"]],"start1":543,"start2":543,"length1":16,"length2":25}]],"length":568,"saved":false}
{"ts":1360052707316,"patch":[[{"diffs":[[0,"'];\n        "],[1,"if (!mappingto) {\n            // Find the entry in regEntries\n            var regEntries = cfg.regEntries;\n            for(var key in regEntries) {\n                // Regex testing.\n                var rets = regEntries[key][0].exec(value);\n                \n                // If regex matched. The r[1] was the first matched word and continue so on.\n                if (rets) {\n                    // Push ans save matched keys.\n                    for (var i = 1; i < rets.length; i++) {\n                        rets.push(rets[i]);\n                    }\n                }\n            }\n        }"],[0,"\n    }\n};"]],"start1":547,"start2":547,"length1":21,"length2":618}]],"length":1165,"saved":false}
{"ts":1360052776491,"patch":[[{"diffs":[[0,"    "],[-1,"}\n            }"],[1,"    mappingto = regexmappings[key][1];\n                }\n            }\n        } else {\n            // Push and save the entry name into matched array.\n            rets.push(value);"],[0,"\n   "]],"start1":1127,"start2":1127,"length1":23,"length2":189}]],"length":1331,"saved":false}
{"ts":1360052896504,"patch":[[{"diffs":[[0,";\n        }\n"],[1,"        \n        if (mappingto) {\n            var tp = toString.call(mappingto);\n            if (tp === '[object String]' || tp === '[object Object]') {\n                rets.unshift(mappingto);    \n            }\n        }\n"],[0,"    }\n};"]],"start1":1311,"start2":1311,"length1":20,"length2":242}]],"length":1553,"saved":false}
{"ts":1360052980582,"patch":[[{"diffs":[[0,"ngto);  "],[1,"\n"],[0,"  "],[1,"              return rets;\n            } else {\n                rets = route(mappingto, rets, at);\n                if (rets) {\n                    // Return only if mapping entry founded.\n                    return rets;\n                }"],[0,"\n       "]],"start1":1510,"start2":1510,"length1":18,"length2":257}]],"length":1792,"saved":false}
{"ts":1360053341015,"patch":[[{"diffs":[[0,"    }\n};"],[1,"\n\nexports.compile = function (settings) {\n    if (toString.call(settings) === '[object String]') {\n        return function () {\n            return settings\n        }\n    } else {\n        // Prepare real routing configuration\n        var routeCfgs = new Array();\n        for (var sectionKey in settings) {\n            var name = settings[sectionKey].name;\n            var regex = settings[sectionKey].regex;\n            var mappings = settings[sectionKey].mappings;\n            var routeCfg = {\n                name : name,\n                regex : regex,\n                hashEntries : {},\n                regEntries : []\n            };\n            \n            for(var itemKey in mappings) {\n                var key = mappings[itemKey][0];\n                var mappingto = mappings[itemKey][1];\n                s\n            }\n        }\n    \n        \n    }\n};"]],"start1":1784,"start2":1784,"length1":8,"length2":865}]],"length":2649,"saved":false}
{"ts":1360053490705,"patch":[[{"diffs":[[0,"       s"],[1,"witch (toString.call(key)) {\n                    case '[object String]' :\n                        routeCfg.hashEntries[key] = mappingto;\n                        break;\n                    case '[object RegExp]' : \n                        routeCfg.regEntries.push(\n                            [key, exports.compile(mappingto)]\n                        );\n                    default:\n                }"],[0,"\n       "]],"start1":2594,"start2":2594,"length1":16,"length2":415}]],"length":3048,"saved":false}
{"ts":1360053496440,"patch":[[{"diffs":[[0,"     );\n"],[1,"                        break;\n"],[0,"        "]],"start1":2947,"start2":2947,"length1":16,"length2":47}]],"length":3079,"saved":false}
{"ts":1360053518075,"patch":[[{"diffs":[[0,"}\n            }\n"],[1,"            routeCfgs.push(routeCfg);\n"],[0,"        }\n    \n "]],"start1":3031,"start2":3031,"length1":32,"length2":70}]],"length":3117,"saved":false}
{"ts":1360053564504,"patch":[[{"diffs":[[0,"   \n        "],[1,"return function (at) {\n            return route(routeCfgs, undefined, at);\n        }"],[0,"\n    }\n};"]],"start1":3096,"start2":3096,"length1":21,"length2":105}]],"length":3201,"saved":false}
